<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="utf-8">
	<title>Test clicks per second</title>
	<style>
		body {
			-webkit-user-select: none;
			-moz-user-select: none;
			-ms-user-select: none;
			user-select: none;
			cursor: default;
		}
		:focus {
			outline: none;
		}
		.valueDisplay {
			font: 1.5em monospace;
			overflow: hidden;
			box-sizing: content-box;
			height: 1.5em;
			width: 9.5em;
			text-align: right;
		}
		#clickArea {
			font: 2.5em sans-serif;
			border: thin solid;
			padding: 3px;
		}
	</style>
</head>
<body>
	<header>
		<h1>Test clicks per second</h1>
		<p>Test how many click events the browser can register per second using an auto clicker macro/script.<br>
		How fast your CPU is, how the click event is programmed and how the macro/script is written can all influence the value.</p>
	</header>
	<main>
		<p class="valueDisplay"><mark id="cpsValue">0.00</mark><strong> cps</strong></p>
		<button id="clickArea" type="button" autofocus>Click here</button>
	</main>
	<script>
		"use strict";
		(() => {
			let clicks = 0;
			const cpsDisplay = document.getElementById("cpsValue");
			const updateTimerID = window.setInterval(() => {
				const cps = clicks / 2;
				clicks = 0;
				cpsDisplay.innerHTML = cps.toFixed(2);
			}, 2000);
			document.getElementById("clickArea").addEventListener("click", () => {++clicks;}, {passive: true, capture: false});
		})();
	</script>
</body>
</html>
