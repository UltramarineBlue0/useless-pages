<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="utf-8">
	<meta http-equiv="content-security-policy" content="block-all-mixed-content; form-action 'none'; base-uri 'none'; default-src 'self'; style-src 'self' 'unsafe-inline'; object-src 'none';">
	<meta name="referrer" content="no-referrer">
	<meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1, maximum-scale=1, user-scalable=no">

	<title>Test clicks per second</title>

	<link href="../common/style.css" rel="stylesheet">
	<script src="../common/Âµ.js" defer></script>
	<script src="test.js" defer></script>
	<!--
		Some browsers will select text when you double click buttons. Some mobile browsers will zoom on double click.
		The tags and styles tries to remove as many user interactions, which are automatically added by the browser, as possible,
		without being too long or verbose. This test is meant to just test the performance of the click event, not the repaint or reflow
		performance of the browser
	-->
	<style>
		body {
			-webkit-user-select: none;
			-moz-user-select: none;
			-ms-user-select: none;
			user-select: none;
			cursor: default;
		}

		.valueDisplay {
			font: 1.5em monospace;
		}

		.start,
		.start:focus,
		.start:hover,
		.start:active {
			cursor: default;
			background-color: #ECEFF1;
			color: #424242;
			padding: 0.3ex;
			margin: 0.5ex 0px;
			outline: none;
			border: none;
			text-align: center;
			text-decoration: none;
			display: inline-block;
			font-size: 3em;
		}
	</style>
</head>

<body>
	<header>
		<h1>Test clicks per second</h1>
		<p>Test how many click events the browser can register per second using an auto clicker macro/script. How fast your system
			is, which browser and OS you're using and how the macro is scripted can all influence the value. This test can also generate
			click events in browser using js for around 30 seconds. But this is probably less interesting since on real websites,
			most click events comes from the user (external to the browser).</p>
	</header>
	<main>
		<section>
			<p class="valueDisplay">
				<strong>Current: </strong>
				<mark id="cpsValue">0.00</mark>
				<strong>&nbsp;cps</strong>
			</p>
			<button class="start" id="clickArea" type="button" autofocus>Click here</button>
			<button class="start" id="startGenerate" type="button" style="display: none;">Generate click events</button>
		</section>
		<section>
			<p class="valueDisplay">Average:
				<strong id="avgCps">0.00</strong>&nbsp;cps</p>
			<p class="valueDisplay">Maximum:
				<strong id="maxCps">0.00</strong>&nbsp;cps</p>
			<button id="resetStats" type="button">Stop and reset</button>
			<button id="switchMode" type="button">Switch to generated clicks</button>
		</section>
		<aside>
			<ul>
				<li>The value isn't an instantaneous measurement, it's the amount of clicks collected over roughly 1.5 seconds.</li>
				<li>In external click event test the stats continue to update after the first click.</li>
				<li>The stats stop updating after a test run with generated events.</li>
			</ul>
		</aside>
	</main>
</body>

</html>